<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:marty="http://java.sun.com/jsf/composite/marty"
	xmlns:i="http://xmlns.jcp.org/jsf/composite/imixs">


	<!-- Admin Menu -->
	<div class="imixs-portlet">
		<div class="imixs-header">
			<ul>
				<li class="active"><h:outputText
						value="#{message.administration}" /></li>
			</ul>
		</div>

		<h:panelGroup layout="block"
			rendered="#{fn:indexOf(loginController.userNameList,'{process:manager}') gt -1}">
			<h3>#{message['nav.admin_processlist']}</h3>
			<!-- show all processes to admin -->
			<ul>
				<ui:repeat value="#{processController.processList}" var="record">
					<ui:fragment rendered="#{record.item['isManager']}">

						<li><h:commandLink styleClass="imixs-viewentry-main-link"
								action="#{workflowController.load(record.item['$UniqueID'],'/pages/process.xhtml')}">
								<f:setPropertyActionListener value="/pages/admin/spaces"
									target="#{workflowController.defaultActionResult}" />
								<h:outputText value="#{record.item['txtName']}" />
								<h:outputText rendered="#{empty record.item['txtName']}"
									value=" - no name - " />


							</h:commandLink></li>
					</ui:fragment>
				</ui:repeat>
			</ul>
		</h:panelGroup>



		<h:panelGroup layout="block"
			rendered="#{fn:indexOf(loginController.userNameList,'{space:manager}') gt -1}">
			<h3>#{message['nav.admin_spaces']}</h3>
			<!-- show all spaces to admin -->
			<ul>
				<ui:repeat value="#{processController.spaces}" var="record">
					<ui:fragment rendered="#{record.item['isManager']}">

						<li><h:commandLink styleClass="imixs-viewentry-main-link"
								action="#{workflowController.load(record.item['$UniqueID'],'/pages/space.xhtml')}">
								<f:setPropertyActionListener value="/pages/admin/spaces"
									target="#{workflowController.defaultActionResult}" />
								<h:outputText value="#{record.item['txtName']}" />
								<h:outputText rendered="#{empty record.item['txtName']}"
									value=" - no name - " />


							</h:commandLink></li>
					</ui:fragment>
				</ui:repeat>
			</ul>
		</h:panelGroup>

	</div>


</ui:composition>

