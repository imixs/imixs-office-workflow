<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">


	<!-- the following code computes the txtworkflow abstract from the current modelversion and processid  -->
	<ui:param name="instruction"
		value="#{modelController.getProcessDescription(workflowController.workitem.item['$taskid'],workflowController.workitem.item['$ModelVersion'],workflowController.workitem)}">
	</ui:param>

	<!--  Custom Form  -->
	<f:subview>
		<ui:include src="/pages/workitems/forms/custom.xhtml">
			<ui:param name="workitem" value="#{workflowController.workitem}" />
		</ui:include>
	</f:subview>
	<!-- sub forms (support deprecated form layout) -->
	<c:forEach items="#{formController.formDefinition.sections}" var="section">
		<div class="imixs-form-panel">
			<h3>
				<h:outputText value="#{section.name}" />
			</h3>
			<c:if test="#{('custom_read' ne section.path) and ('custom' ne section.path)}">
				<f:subview>
					<ui:include src="/pages/workitems/forms/#{section.path}.xhtml">
						<ui:param name="workitem" value="#{workflowController.workitem}" />
					</ui:include>
				</f:subview>
			</c:if>
		</div>
	</c:forEach>
	<!-- Workflow and Chronicle -->
	<div class="imixs-workitem-chronicle">
		<ui:include src="/pages/workitems/workitem_chronicle.xhtml" />
	</div>

</ui:composition>