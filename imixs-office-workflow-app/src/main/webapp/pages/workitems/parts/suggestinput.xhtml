<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">




	<ui:remove>
		<!-- Suggest Component
	
			Requires that the subform workitemlink_resultlist is places at once in the ui:form
			
			NOTE: The Input Item is fixed to the item name '$workitemref'
	-->
	</ui:remove>

	<f:subview id="suggestinput-view">
		
		<div class="office-suggestinput">
			<!-- Input Field -->
			<h:panelGroup id="input_box" layout="block"
				class="office-suggestinput-inputbox">
				<h:inputText id="suggest_input" value="#{workitem.item[itemname]}" required="#{required}" autocomplete="off"   class="imixs-suggest" requiredMessage="#{app.ERROR_REQUIRED}" >
					<f:ajax event="keyup" render="suggest_box" delay="600"
					    execute="suggest_input"
						listener="#{suggestInputController.search(itemname,itemname,searchitemlist,workflowgroup,query)}" />
				</h:inputText>
				
				<h:commandLink immediate="true"
					actionListener="#{suggestInputController.update(workitem,suggest,updateitemlist)}">
				</h:commandLink>
				
				
				
				<h:panelGroup id="suggest_box" layout="block"
					class="suggestinput-resultlist" style="#{empty suggestInputController.searchResult?'display:none':''}">
						<c:forEach var="suggest"
							items="#{suggestInputController.searchResult}">
							<div class="suggestinput-resultlist-element" >
								<h:commandLink immediate="true" actionListener="#{suggestInputController.update(workitem,suggest,updateitemlist)}">
									<h:outputText value="#{suggestInputController.getDisplayLine(displayitemlist,suggest)}" />
									<f:ajax render="input_box #{render}" execute="#{execute}"  onevent="#{onevent}" />
								</h:commandLink>
	
							</div>
						</c:forEach>
					
				</h:panelGroup>
			</h:panelGroup>
		</div>
		

	</f:subview>


</ui:composition>

