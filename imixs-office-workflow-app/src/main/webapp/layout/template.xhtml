<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:marty="http://xmlns.jcp.org/jsf/composite/marty"
	xmlns:i="http://xmlns.jcp.org/jsf/composite/imixs">

<h:head>
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta content="text/javascript" http-equiv="Content-Script-Type" />
	<meta content="text/css" http-equiv="Content-Style-Type" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta name="robots" content="noindex" />

	<title>
		<ui:param name="title" value="#{propertyController.getProperty('application.title')}"></ui:param>
		<h:outputText rendered="#{empty title}" value="#{resourceBundleHandler.findMessage('application_title')}" />
		<h:outputText rendered="#{!empty title}" value="#{title}" />
	</title>

	<!-- *** CSS *** -->
	<link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/layout/favicon.ico" />

	<!-- imixs-responsive css -->
	<link href="#{request.contextPath}/layout/css/imixs-basic.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- imixsHeader (must be loaded before office-css! -->
	<i:imixsHeader disablecss="false" dateformat="#{message.datePatternShort}"
		build="#{app.application_workflow_build}" />

	<!--  font and icons -->
	<link href="#{request.contextPath}/layout/css/fonts/open_sans.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link href="#{request.contextPath}/layout/css/fonts/typicons.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link href="#{request.contextPath}/layout/css/fontawesome/css/all.min.css" charset="UTF-8" type="text/css"
		rel="stylesheet" />

	<!-- imixs-marty css -->
	<link href="#{request.contextPath}/marty/imixs-marty.css?build=#{app.application_build_timestamp}" charset="UTF-8"
		type="text/css" rel="stylesheet" />

	<!-- imixs-office-workflow css -->
	<link href="#{request.contextPath}/layout/css/office-theme.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- Chronicle Feature css -->
	<link href="#{request.contextPath}/layout/css/office-theme-chronicle.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{request.contextPath}/layout/css/office-theme-autocomplete.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{request.contextPath}/layout/css/office-theme-suggestinput.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- Imixs-AI Feature css -->
	<link href="#{request.contextPath}/layout/css/office-theme-ai.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- Markdown Feature css -->
	<link href="#{request.contextPath}/layout/css/office-theme-markdown.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- custom css -->
	<link href="#{request.contextPath}/layout/css/custom.css?build=#{app.application_build_timestamp}" charset="UTF-8"
		type="text/css" rel="stylesheet" />



	<!-- The Top-Margin form the content container depends on the HistoryNav panel. If not history entries are displayed the 
		top margin is reduced -->
	<ui:fragment rendered="#{(loginController.authenticated) and (!empty historyController.workitems)}">
		<style>
			#container {
				margin-top: 100px;
			}
		</style>
	</ui:fragment>

	<!-- *** SCRIPTS *** -->

	<!-- tinyMCE -->
	<script type="text/javascript"
		src="#{request.contextPath}/js/tinymce/tinymce.min.js?build=#{app.application_build_timestamp}"></script>

	<!-- datepicker regional -->
	<script type="text/javascript"
		src="#{request.contextPath}/js/#{message['jquey.datepicker.regional']}?build=#{app.application_build_timestamp}"></script>

	<!-- Load DataTablePlugin  -->
	<script type="text/javascript"
		src="#{request.contextPath}/js/jquery.dataTables.min.js?build=#{app.application_build_timestamp}"></script>



	<!-- Imixs-Office-Workflow  -->
	<script type="text/javascript"
		src="#{request.contextPath}/js/imixs-core.js?build=#{app.application_build_timestamp}"></script>

	<!-- Load the marty component script -->
	<script type="text/javascript"
		src="#{request.contextPath}/marty/imixs-marty.js?build=#{app.application_build_timestamp}"></script>


	<script type="text/javascript"
		src="#{request.contextPath}/js/imixs-office.main.js?build=#{app.application_build_timestamp}"></script>

	<script type="text/javascript"
		src="#{request.contextPath}/js/imixs-office.autocomplete.js?build=#{app.application_build_timestamp}"></script>

	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/chartjs/chart.min.js?build=#{app.application_build_timestamp}"></script>

	<!-- Load Imixs-Markdown editor -->
	<script type="text/javascript"
		src="#{request.contextPath}/js/marked.min.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{request.contextPath}/js/turndown.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{request.contextPath}/js/turndown-plugin-gfm.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{request.contextPath}/js/imixs-office.markdowneditor.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{request.contextPath}/js/imixs-office.main.custom.js?build=#{app.application_build_timestamp}"></script>

	<script type="text/javascript">
		/*<![CDATA[*/
		// define script name spaces
		var imixs = IMIXS.org.imixs.core;

		// define variables for office scripts loaded from resource bundles....
		imixsOfficeMain.contextPath = "#{facesContext.externalContext.requestContextPath}";
		imixsOfficeMain.error_message_mce_image_size = "#{message.error_message_mce_image_size}";
		imixsOfficeMain.imixs_date_showWeek = ("true" === "#{app['jquey.datepicker.showWeek']}");
		/*]]>*/
	</script>


	<ui:insert name="scripts">
		<!-- default  -->
	</ui:insert>


</h:head>
<h:body>
	<f:view locale="#{userController.locale}">
		<!-- SystemSetupStatus=#{initController.initStatus} -->
		<div id="imixs-app">
			<div id="imixs-header" class="imixs-servicenav">
				<ui:insert name="servicenav">
					<ui:include src="servicenav.xhtml" />
				</ui:insert>
			</div>

			<!-- content -->
			<div id="imixs-content">

				<ui:fragment rendered="#{(!loginController.authenticated)}">
					<div id="imixs-branding" class="imixs-header-branding">
						<ui:include src="branding.xhtml" />
					</div>
				</ui:fragment>

				<ui:fragment rendered="#{(loginController.authenticated) and (!empty historyController.workitems)}">
					<div id="imixs-history" class="imixs-header-history">
						<ui:include src="historynav.xhtml" />
					</div>
				</ui:fragment>

				<div id="imixs-main">
					<ui:include src="/error_message.xhtml" />
					<ui:insert name="content">
						<!-- Default Content -->
					</ui:insert>
				</div>


				<!-- footer -->
				<ui:insert name="footer">
					<div id="imixs-footer">
						<div id="footer1">
							<ui:insert name="extra">
								<ui:include src="/layout/extra.xhtml" />
							</ui:insert>
						</div>
						<div id="footer2">
							<ui:insert name="footer">
								<ui:include src="/layout/footer.xhtml" />
							</ui:insert>
						</div>
					</div>
				</ui:insert>
				<!-- END footer -->

			</div>
			<!-- END content -->

			<div class="imixs-wait">
				<!-- empty -->
			</div>

		</div>
	</f:view>
</h:body>

</html>