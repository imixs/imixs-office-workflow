<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:i="http://java.sun.com/jsf/composite/imixs">

<h:head>
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta content="text/javascript" http-equiv="Content-Script-Type" />
	<meta content="text/css" http-equiv="Content-Style-Type" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta content="Imixs Workflow" name="keywords" />


	<title>#{app.application_title}</title>

	<!-- creatix-css -->
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/imixs-basic.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/imixs-layout.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />


	<!-- #### Customize TinyMCE  Start -->
	<!--  tinymce disable can be set back to true if new defaulttinymce is supported -->
	<i:imixsHeader disablecss="false" disabletinymce="true"
		dateformat="#{message.datePatternShort}"
		theme="#{facesContext.externalContext.requestContextPath}/layout/themes/#{app.application_theme}" />
	<!-- #### Customize TinyMCE  END -->




	<link
		href="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/fonts/typicons.css?build=#{app.application_build_timestamp}"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/office-theme.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/office-theme-print.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/custom.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />
	<link
		href="#{facesContext.externalContext.requestContextPath}/layout/css/custom-print.css"
		charset="UTF-8" type="text/css" rel="stylesheet" />

	<!-- IE 7 support -->
	<h:outputText
		value="&lt;!--[if IE 7]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 8 support -->
	<h:outputText
		value="&lt;!--[if IE 8]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 9 support -->
	<h:outputText
		value="&lt;!--[if IE 9]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />
	<!-- IE 10 support -->
	<h:outputText
		value="&lt;!--[if IE 10]&gt;&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;#{facesContext.externalContext.requestContextPath}/layout/css/ie-support.css&quot; /&gt;&lt;![endif]--&gt;"
		escape="false" />

	<ui:insert name="header">
	</ui:insert>


</h:head>


<h:body>
	<f:view locale="#{userController.locale}">

		<div id="imixs-container">
			
			<div id="imixs-wrapper">

				<div id="imixs-content">
					<!-- 
					<ui:insert name="historynav">
						<ui:include src="historynav.xhtml" />
					</ui:insert>
					 -->
					<ui:insert name="content">
						<h1>Default Content</h1>
					</ui:insert>
				</div>

			</div>

			<!-- END container -->

			<div id="footer">
				<div id="footer1">
					<ui:insert name="extra">
						<ui:include src="/layout/extra.xhtml" />
					</ui:insert>
				</div>
				<div id="footer2">
					<ui:insert name="footer">
						<ui:include src="/layout/footer.xhtml" />
					</ui:insert>
				</div>
			</div>
			<!-- END footer -->


		</div>
	</f:view>
	
	<!-- Load the marty component script -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/marty/imixs-marty.js"></script>
	<!-- Imixs-Office-Workflow  -->
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/imixs-core.js?build=#{app.application_build_timestamp}"></script>
	<script type="text/javascript"
		src="#{facesContext.externalContext.requestContextPath}/js/imixs-office-workflow.js?build=#{app.application_build_timestamp}"></script>
	
	<script type="text/javascript">
	/*<![CDATA[*/

		/* Init Script */
		var imixs = IMIXS.org.imixs.core, 
			imixsOfficeWorkflow = IMIXS.com.imixs.workflow.office;

		imixsOfficeWorkflow.contextPath="#{facesContext.externalContext.requestContextPath}";
		
		$(document).ready(function() {
			imixsOfficeWorkflow.initLayout();
			
			/* This script replaces input fields with their values
			 * we skip radio inputs and checkboxes.
			 * if a input field is inside a parent element with the class named '.imixs-custom-print' 
			 * then the input will be printed as it is  
			 * 
			 */
			$(".imixs-body input[type=text], .imixs-body textarea").each(function(index) {
				var hauptding=$(this).closest( ".imixs-custom-print" );
				if (hauptding.length==0) {
					var content = $(this).val();
					$(this).after("<span style=\"white-space: pre-line;\">"+content+"</span>").hide();		
				}
			});

			$(".imixs-body input[type=radio]").each(function(index) {
				var content = $(this).val();
				var label= $(this).next().next().text();
			});
			
			
			$(".imixs-body select").each(function(index) {
				$( "option:selected",this ).each(function() {
				    var content=$( this ).text();				    
			    	$(this).parent().after("<span style=\"white-space: pre-line;\">"+content+"</span>");
				  });
				$(this).hide();
			});
				
			// hide buttons
			$(".imixs-body input[type=submit], .imixs-body input[type=rest], .imixs-body input[type=button], .imixs-body :button").hide();
			
			// autoprint 
			window.print();
		});
		
		
	/*]]>*/
	</script>
</h:body>

</html>